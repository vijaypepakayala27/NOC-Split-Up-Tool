<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOC Ticket Splitting Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <a href="{{ url_for('logout') }}" class="logout-button">Logout</a>
    <div class="container">
        <h1>NOC Ticket Splitting Tool</h1>
        <form action="/upload" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="file1">Upload VIP tickets CSV file:</label>
                <input type="file" id="file1" name="file1" required>
            </div>
            <div class="form-group">
                <label for="file2">Upload HP tickets CSV file:</label>
                <input type="file" id="file2" name="file2" required>
            </div>
            <div class="form-group">
                <label for="names">Enter names to split (comma separated):</label>
                <input type="text" id="names" name="names" placeholder="e.g., Alice, Bob, Charlie" required>
            </div>
            <button type="submit">Split Tickets</button>
        </form>
    </div>

    <script>
        // GSAP animations
        gsap.from(".container", { duration: 1, y: -50, opacity: 0 });
        gsap.from("h1", { duration: 1, opacity: 0, delay: 0.5 });
        gsap.from(".form-group", { duration: 1, opacity: 0, stagger: 0.2, delay: 1 });
        gsap.from("button", { duration: 1, scale: 0.8, opacity: 0, delay: 1.5 });

        // File input logic to update label text with file name
        document.getElementById('file1').addEventListener('change', function() {
            var fileName = this.files[0] ? this.files[0].name : 'No file chosen';
            this.nextElementSibling.innerHTML = fileName;
        });

        document.getElementById('file2').addEventListener('change', function() {
            var fileName = this.files[0] ? this.files[0].name : 'No file chosen';
            this.nextElementSibling.innerHTML = fileName;
        });
    </script>
</body>
</html>
